"use strict";(self.webpackChunksleact_ts_front=self.webpackChunksleact_ts_front||[]).push([[962],{79250:function(e,t,n){var r=n(15692),a=n(38678),o=n(73046),l=n(83564),i=n(9669),c=n.n(i),u=n(67294),s=n(5977),p=n(39249),d=n(8100),m=n(2599);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n,i=e.show,h=e.onCloseModal,b=e.setShowInviteChannelModal,g=(0,s.UO)(),y=g.workspace,v=g.channel,x=(t=(0,a.Z)(""),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=x[0],k=x[1],E=x[2],C=((0,d.ZP)("".concat(m.T,"/api/users"),l.Z).data,(0,u.useCallback)((function(e){e.preventDefault(),w&&w.trim()&&c().post("".concat(m.T,"/api/workspaces/").concat(y,"/channels/").concat(v,"/members"),{email:w}).then((function(){b(!1),E("")})).catch((function(e){var t;console.dir(e),p.Am.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:"bottom-center"})}))}),[v,w,E,b,y]));return u.createElement(r.Z,{show:i,onCloseModal:h},u.createElement("form",{onSubmit:C},u.createElement(o.__,{id:"member-label"},u.createElement("span",null,"채널 멤버 초대"),u.createElement(o.II,{id:"member",value:w,onChange:k})),u.createElement(o.zx,{type:"submit"},"초대하기")))}},15692:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(66482),a=(0,r.Z)("div",{target:"e1q3ybao1"})({name:"10w7pu7",styles:"position:fixed;text-align:center;left:0;bottom:0;top:0;right:0;z-index:1022;&>div{margin-top:200px;display:inline-block;width:440px;background:white;--saf-0:rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);box-shadow:0 0 0 1px var(--saf-0),0 4px 12px 0 rgba(0, 0, 0, 0.12);background-color:rgba(var(--sk_foreground_min_solid, 248, 248, 248), 1);border-radius:6px;user-select:none;max-width:440px;padding:30px 40px 0;z-index:1012;position:relative;}"}),o=(0,r.Z)("button",{target:"e1q3ybao0"})({name:"19gmbxq",styles:"position:absolute;right:10px;top:6px;background:transparent;border:none;font-size:30px;cursor:pointer"}),l=n(67294),i=function(e){var t=e.show,n=e.children,r=e.onCloseModal,i=(0,l.useCallback)((function(e){e.stopPropagation()}),[]);return t?l.createElement(a,{onClick:r},l.createElement("div",{onClick:i},l.createElement(o,{onClick:r},"×"),n)):null}},32951:function(e,t,n){var r=n(67294),a=n(93213),o=n(2599),l={};t.Z=function(e){var t=(0,r.useCallback)((function(){e&&l[e]&&l[e].on("disconnect",(function(){delete l[e]}))}),[e]);return e?(l[e]||(l[e]=(0,a.ZP)("".concat(o.T,"/ws-").concat(e)),l[e].on("connect",(function(e){console.log(e)}))),[l[e],t]):[void 0,t]}},13962:function(e,t,n){n.r(t),n.d(t,{default:function(){return ae}});var r=n(83564),a=n(9669),o=n.n(a),l=n(67294),i=n(73727),c=n(5977),u=n(8100),s=n(66182),p=n.n(s),d=n(66482),m=(0,d.Z)("div",{target:"e1yu02113"})({name:"tjo4qw",styles:"float:right"}),f=(0,d.Z)("header",{target:"e1yu02112"})({name:"fvf0bi",styles:"height:38px;background:#350d36;color:#ffffff;box-shadow:0 1px 0 0 rgba(255, 255, 255, 0.1);padding:5px;text-align:center"}),h=(0,d.Z)("img",{target:"e1yu02111"})({name:"1ly4jlu",styles:"width:28px;height:28px;position:absolute;top:5px;right:16px"}),b=(0,d.Z)("div",{target:"e1yu02110"})({name:"47px7v",styles:"display:flex;padding:20px;& img{display:flex;}&>div{display:flex;flex-direction:column;margin-left:10px;}& #profile-name{font-weight:bold;display:inline-flex;}& #profile-active{font-size:13px;display:inline-flex;}"}),g=(0,d.Z)("button",{target:"e1yu0219"})({name:"bl1q1k",styles:"border:none;width:100%;border-top:1px solid rgb(29, 28, 29);background:transparent;display:block;height:33px;padding:5px 20px 5px;outline:none;cursor:pointer"}),y=(0,d.Z)("div",{target:"e1yu0218"})({name:"36bnqj",styles:"display:flex;flex:1"}),v=(0,d.Z)("div",{target:"e1yu0217"})({name:"17lvj7e",styles:"width:65px;display:inline-flex;flex-direction:column;align-items:center;background:#3f0e40;border-top:1px solid rgb(82, 38, 83);border-right:1px solid rgb(82, 38, 83);vertical-align:top;text-align:center;padding:15px 0 0"}),x=(0,d.Z)("nav",{target:"e1yu0216"})({name:"2pkygn",styles:"width:260px;display:inline-flex;flex-direction:column;background:#3f0e40;color:rgb(188, 171, 188);vertical-align:top;& a{padding-left:36px;color:inherit;text-decoration:none;height:28px;line-height:28px;display:flex;align-items:center;&.selected{color:white;}}& .bold{color:white;font-weight:bold;}& .count{margin-left:auto;background:#cd2553;border-radius:16px;display:inline-block;font-size:12px;font-weight:700;height:18px;line-height:18px;padding:0 9px;color:white;margin-right:16px;}& h2{height:36px;line-height:36px;margin:0;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;font-size:15px;}"}),w=(0,d.Z)("button",{target:"e1yu0215"})({name:"1rmthq7",styles:"height:64px;line-height:64px;border:none;width:100%;text-align:left;border-top:1px solid rgb(82, 38, 83);border-bottom:1px solid rgb(82, 38, 83);font-weight:900;font-size:24px;background:transparent;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding:0;padding-left:16px;margin:0;color:white;cursor:pointer"}),k=(0,d.Z)("div",{target:"e1yu0214"})({name:"1146j5j",styles:"height:calc(100vh - 102px);overflow-y:auto"}),E=(0,d.Z)("div",{target:"e1yu0213"})({name:"192o1ir",styles:"padding:10px 0 0;& h2{padding-left:20px;}&>button{width:100%;height:28px;padding:4px;border:none;background:transparent;border-top:1px solid rgb(28, 29, 28);cursor:pointer;&:last-of-type{border-bottom:1px solid rgb(28, 29, 28);}}"}),C=(0,d.Z)("div",{target:"e1yu0212"})({name:"82a6rk",styles:"flex:1"}),Z=(0,d.Z)("button",{target:"e1yu0211"})({name:"9tlmej",styles:"color:white;font-size:24px;display:inline-block;width:40px;height:40px;background:transparent;border:none;cursor:pointer"}),S=(0,d.Z)("button",{target:"e1yu0210"})({name:"wsqixl",styles:"display:inline-block;width:40px;height:40px;border-radius:10px;background:white;border:3px solid #3f0e40;margin-bottom:15px;font-size:18px;font-weight:700;color:black;cursor:pointer"}),A=n(23810),I=(0,d.Z)("div",{target:"eus8aqr1"})({name:"3nqusf",styles:"position:fixed;top:0;right:0;left:0;bottom:0;z-index:1000;&>div{position:absolute;display:inline-block;--saf-0:rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);box-shadow:0 0 0 1px var(--saf-0),0 4px 12px 0 rgba(0, 0, 0, 0.12);background-color:rgba(var(--sk_foreground_min_solid, 248, 248, 248), 1);border-radius:6px;user-select:none;min-width:360px;z-index:512;max-height:calc(100vh - 20px);color:rgb(29, 28, 29);}"}),T=(0,d.Z)("button",{target:"eus8aqr0"})({name:"19gmbxq",styles:"position:absolute;right:10px;top:6px;background:transparent;border:none;font-size:30px;cursor:pointer"}),M=function(e){var t=e.children,n=e.style,r=e.show,a=e.onCloseModal,o=e.closeButton,i=(0,l.useCallback)((function(e){e.stopPropagation()}),[]);return r?l.createElement(I,{onClick:a},l.createElement("div",{style:n,onClick:i},o&&l.createElement(T,{onClick:a},"×"),t)):null};M.defaultProps={closeButton:!0};var j=M,_=n(73046),O=n(38678),P=n(15692),z=n(39249),U=n(2599);function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=function(e){var t,n,a=e.show,i=e.onCloseModal,s=e.setShowCreateChannelModal,p=(t=(0,O.Z)(""),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=p[0],m=p[1],f=p[2],h=(0,c.UO)(),b=h.workspace,g=(h.channel,(0,u.ZP)("".concat(U.T,"/api/users"),r.Z,{dedupingInterval:2e3})),y=g.data,v=(g.error,(0,u.ZP)(y?"".concat(U.T,"/api/workspaces/").concat(b,"/channels"):null,r.Z)),x=(v.data,v.mutate),w=(0,l.useCallback)((function(e){e.preventDefault(),o().post("".concat(U.T,"/api/workspaces/").concat(b,"/channels"),{name:d},{withCredentials:!0}).then((function(e){console.log(e.data),x(),s(!1),f("")})).catch((function(e){var t;console.dir(e),z.Am.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:"bottom-center"})}))}),[d]);return a?l.createElement(P.Z,{show:a,onCloseModal:i},l.createElement("form",{onSubmit:w},l.createElement(_.__,{id:"channel-label"},l.createElement("span",null,"채널"),l.createElement(_.II,{id:"channel",value:d,onChange:m})),l.createElement(_.zx,{type:"submit"},"생성하기"))):null};function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=function(e){var t,n,a=e.show,i=e.onCloseModal,s=e.setShowInviteWorkspaceModal,p=(0,c.UO)().workspace,d=(t=(0,O.Z)(""),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],f=d[1],h=d[2],b=(0,u.ZP)("".concat(U.T,"/api/users"),r.Z).data,g=(0,u.ZP)(b?"".concat(U.T,"/api/workspaces/").concat(p,"/members"):null,r.Z).mutate,y=(0,l.useCallback)((function(e){e.preventDefault(),m&&m.trim()&&o().post("".concat(U.T,"/api/workspaces/").concat(p,"/members"),{email:m}).then((function(){g(),s(!1),h("")})).catch((function(e){var t;console.dir(e),z.Am.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:"bottom-center"})}))}),[m,p,g,s,h]);return l.createElement(P.Z,{show:a,onCloseModal:i},l.createElement("form",{onSubmit:y},l.createElement(_.__,{id:"member-label"},l.createElement("span",null,"이메일"),l.createElement(_.II,{id:"member",type:"email",value:m,onChange:f})),l.createElement(_.zx,{type:"submit"},"초대하기")))},$=n(79250),L=(0,d.Z)("button",{target:"e190xuym0"})("background:transparent;border:none;width:26px;height:26px;display:inline-flex;justify-content:center;align-items:center;color:white;margin-left:10px;cursor:pointer;",(function(e){return e.collapse&&"\n    & i {\n      transform: none;\n    }\n  "}),";"),B=function(e){var t=e.channel,n=(0,c.UO)().workspace,a=(0,c.TH)(),o=(0,u.ZP)("".concat(U.T,"/api/users"),r.Z,{dedupingInterval:2e3}).data,s=localStorage.getItem("".concat(n,"-").concat(t.name))||0,p=(0,u.ZP)(o?"".concat(U.T,"/api/workspaces/").concat(n,"/channels/").concat(t.name,"/unreads?after=").concat(s):null,r.Z),d=p.data,m=p.mutate;return(0,l.useEffect)((function(){a.pathname==="/workspace/".concat(n,"/channel/").concat(t.name)&&m(0)}),[m,a.pathname,n,t]),l.createElement(i.OL,{key:t.name,activeClassName:"selected",to:"/workspace/".concat(n,"/channel/").concat(t.name)},l.createElement("span",{className:void 0!==d&&d>0?"bold":void 0},"# ",t.name),void 0!==d&&d>0&&l.createElement("span",{className:"count"},d))},F=n(5434);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=function(){var e,t,n=(0,c.UO)().workspace,a=(e=(0,l.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1],s=(0,u.ZP)("".concat(U.T,"/api/users"),r.Z,{dedupingInterval:2e3}).data,p=(0,u.ZP)(s?"".concat(U.T,"/api/workspaces/").concat(n,"/channels"):null,r.Z).data,d=(0,l.useCallback)((function(){i((function(e){return!e}))}),[]);return l.createElement(l.Fragment,null,l.createElement("h2",null,l.createElement(L,{collapse:o,onClick:d},o?l.createElement(F.AeI,null):l.createElement(F.Ix0,null)),l.createElement("span",null,"Channels")),l.createElement("div",null,!o&&(null==p?void 0:p.map((function(e){return l.createElement(B,{key:e.id,channel:e})})))))},J=(0,d.Z)("div",{target:"e1s984kz1"})({name:"hyqwig",styles:"width:10px;height:10px;border:solid;border-width:1px;border-radius:10px;margin-right:2px;background-color:green"}),K=(0,d.Z)("div",{target:"e1s984kz0"})({name:"1fm8l9d",styles:"width:10px;height:10px;border:solid;border-width:1px;border-radius:10px;margin-right:2px"}),Q=function(e){var t=e.member,n=e.isOnline,a=(0,c.UO)().workspace,o=(0,c.TH)(),s=(0,u.ZP)("".concat(U.T,"/api/users"),r.Z,{dedupingInterval:2e3}).data,p=localStorage.getItem("".concat(a,"-").concat(t.id))||0,d=(0,u.ZP)(s?"".concat(U.T,"/api/workspaces/").concat(a,"/dms/").concat(t.id,"/unreads?after=").concat(p):null,r.Z),m=d.data,f=d.mutate;return(0,l.useEffect)((function(){o.pathname==="/workspace/".concat(a,"/dm/").concat(t.id)&&f(0)}),[f,o.pathname,a,t]),l.createElement(i.OL,{key:t.id,activeClassName:"selected",to:"/workspace/".concat(a,"/dm/").concat(t.id)},n?l.createElement(J,null):l.createElement(K,null),l.createElement("span",{className:m&&m>0?"bold":void 0},t.nickname),t.id===(null==s?void 0:s.id)&&l.createElement("span",null," (나)"),m&&m>0&&l.createElement("span",{className:"count"},m)||null)},R=n(32951);function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y=function(){var e=(0,c.UO)().workspace,t=(0,u.ZP)("".concat(U.T,"/api/users"),r.Z,{dedupingInterval:2e3}).data,n=(0,u.ZP)(t?"".concat(U.T,"/api/workspaces/").concat(e,"/members"):null,r.Z).data,a=V((0,R.Z)(e),1)[0],o=V((0,l.useState)(!1),2),i=o[0],s=o[1],p=V((0,l.useState)([]),2),d=p[0],m=p[1],f=(0,l.useCallback)((function(){s((function(e){return!e}))}),[]);return(0,l.useEffect)((function(){console.log("DMList: workspace 바꼈다",e),m([])}),[e]),(0,l.useEffect)((function(){return null==a||a.on("onlineList",(function(e){m(e)})),function(){null==a||a.off("onlineList")}}),[a]),l.createElement(l.Fragment,null,l.createElement("h2",null,l.createElement(L,{collapse:i,onClick:f},i?l.createElement(F.AeI,null):l.createElement(F.Ix0,null)),l.createElement("span",null,"Direct Messages")),l.createElement("div",null,!i&&(null==n?void 0:n.map((function(e){var t=d.includes(e.id);return l.createElement(Q,{key:e.id,member:e,isOnline:t})})))))};function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne=(0,A.ZP)((function(){return Promise.all([n.e(18),n.e(202),n.e(276),n.e(94)]).then(n.bind(n,83094))})),re=(0,A.ZP)((function(){return Promise.all([n.e(18),n.e(750),n.e(276),n.e(708)]).then(n.bind(n,65256))})),ae=function(){var e,t=ee((0,l.useState)(!1),2),n=t[0],a=t[1],s=ee((0,l.useState)(!1),2),d=s[0],A=s[1],I=ee((0,l.useState)(!1),2),T=I[0],M=I[1],q=ee((0,l.useState)(!1),2),N=q[0],L=q[1],B=ee((0,l.useState)(!1),2),F=B[0],H=B[1],J=ee((0,l.useState)(!1),2),K=J[0],Q=J[1],V=ee((0,O.Z)(""),3),X=V[0],te=V[1],ae=V[2],oe=ee((0,O.Z)(""),3),le=oe[0],ie=oe[1],ce=oe[2],ue=(0,c.UO)().workspace,se=ee((0,R.Z)(ue),2),pe=se[0],de=se[1],me=(0,u.ZP)("".concat(U.T,"/api/users"),r.Z,{dedupingInterval:2e3}),fe=me.data,he=(me.error,me.mutate),be=(0,u.ZP)(fe?"".concat(U.T,"/api/workspaces/").concat(ue,"/channels"):null,r.Z).data;(0,l.useEffect)((function(){be&&fe&&pe&&pe.emit("login",{id:fe.id,channelId:be.map((function(e){return e.id}))})}),[pe,be,fe]),(0,l.useEffect)((function(){return function(){de()}}),[ue,de]);var ge=(0,l.useCallback)((function(){o().post("".concat(U.T,"/api/users/logout"),null,{withCredentials:!0}).then((function(){he()}))}),[]),ye=(0,l.useCallback)((function(e){e.stopPropagation(),a((function(e){return!e}))}),[]),ve=(0,l.useCallback)((function(e){e.preventDefault(),X&&X.trim()&&le&&le.trim()&&(console.log("클릭"),o().post("".concat(U.T,"/api/workspaces"),{workspace:X,url:le}).then((function(){he(),A(!1),ae(""),ce("")})).catch((function(e){var t;console.log(e),z.Am.error(null===(t=e.response)||void 0===t?void 0:t.data,{position:"bottom-center"})})))}),[X,le]),xe=(0,l.useCallback)((function(){A(!0)}),[]),we=(0,l.useCallback)((function(){L(!0)}),[]),ke=(0,l.useCallback)((function(){A(!1),L(!1),H(!1),Q(!1)}),[]),Ee=(0,l.useCallback)((function(){M((function(e){return!e}))}),[T]),Ce=(0,l.useCallback)((function(){H(!F)}),[F]);return fe?l.createElement("div",null,l.createElement(f,null,l.createElement(m,null,l.createElement("span",{onClick:ye},l.createElement(h,{src:p().url(fe.email,{s:"28px",d:"retro"}),alt:fe.nickname}),n&&l.createElement(j,{style:{right:0,top:38},show:n,onCloseModal:ye},l.createElement(b,null,l.createElement("img",{src:p().url(fe.email,{s:"36px",d:"retro"}),alt:fe.nickname}),l.createElement("div",null,l.createElement("span",{id:"profile-name"},fe.nickname),l.createElement("span",{id:"profile-active"},"Active"))),l.createElement(g,{onClick:ge},"로그아웃"))))),l.createElement(y,null,l.createElement(v,null,fe.Workspaces.map((function(e){return l.createElement(i.rU,{key:e.id,to:"/workspace/".concat(e.url,"/channel/일반")},l.createElement(S,null,e.name.slice(0,1).toUpperCase()))})),l.createElement(Z,{onClick:xe},"+")),l.createElement(x,null,l.createElement(w,{onClick:Ee},ue),l.createElement(k,null,l.createElement(j,{show:T,onCloseModal:Ee,style:{top:95,left:80}},l.createElement(E,null,l.createElement("h2",null,null==fe||null===(e=fe.Workspaces.find((function(e){return e.url===ue})))||void 0===e?void 0:e.name),l.createElement("button",{onClick:Ce},"워크스페이스에 사용자 초대"),l.createElement("button",{onClick:we},"채널 만들기"),l.createElement("button",{onClick:ge},"로그아웃"))),l.createElement(G,null),l.createElement(Y,null))),l.createElement(C,null,l.createElement(c.rs,null,l.createElement(l.Suspense,{fallback:l.createElement("h1",null,"loading")},l.createElement(c.AW,{path:"/workspace/:workspace/channel/:channel",component:re})),l.createElement(l.Suspense,{fallback:l.createElement("h1",null,"loading")},l.createElement(c.AW,{path:"/workspace/:workspace/dm/:id",component:ne}))))),l.createElement(P.Z,{show:d,onCloseModal:ke},l.createElement("form",{onSubmit:ve},l.createElement(_.__,{id:"workspace-label"},l.createElement("span",null,"워크스페이스 이름"),l.createElement(_.II,{id:"workspace",value:X,onChange:te})),l.createElement(_.__,{id:"workspace-url-label"},l.createElement("span",null,"워크스페이스 url"),l.createElement(_.II,{id:"workspace-url",value:le,onChange:ie})),l.createElement(_.zx,{type:"submit"},"생성하기"))),l.createElement(D,{show:N,onCloseModal:ke,setShowCreateChannelModal:L}),l.createElement(W,{show:F,onCloseModal:ke,setShowInviteWorkspaceModal:H}),l.createElement($.Z,{show:K,onCloseModal:ke,setShowInviteChannelModal:Q})):l.createElement(c.l_,{to:"/login"})}}}]);